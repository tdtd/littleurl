{"version":3,"sources":["../../../../server/api/newurl/newurl.model.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;wBAEQ,UAAU;;;;uBACV,SAAS;;;;AAE9B,IAAI,YAAY,GAAG,IAAI,sBAAS,MAAM,CAAC;AACtC,KAAG,EAAC;AACH,QAAI,EAAE,MAAM;AACV,UAAM,EAAE,IAAI;AACZ,aAAS,EAAE,qBAAQ,QAAQ;GAC7B;AACA,aAAW,EAAE,MAAM;AACpB,UAAQ,EAAE,MAAM;CAChB,CAAC,CAAC;;AAEH,YAAY,CAAC,OAAO,GAAG;AACrB,SAAO,EAAE,iBAAS,KAAK,EAAE,EAAE,EAAE;AAC3B,QAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CACV,KAAK,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAClC,KAAK,CAAC,EAAE,CAAC,CACT,IAAI,CAAC,EAAE,CAAC,CAAC;GACb;CACF,CAAC;;AAEF,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,UAAS,GAAG,EAAE;AACtC,KAAG,CAAC,SAAS,GAAG,kCAAkC,GAAC,GAAG,CAAC,GAAG,CAAC;CAC5D,CAAC,CAAC;;AAEH,YAAY,CAAC,GAAG,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;qBACvB,sBAAS,KAAK,CAAC,QAAQ,EAAE,YAAY,CAAC","file":"newurl.model.js","sourcesContent":["'use strict';\n\nimport mongoose from 'mongoose';\nimport shortid  from 'shortid';\n\nvar NewurlSchema = new mongoose.Schema({\n\t_id:{\n\t\ttype: String,\n    unique: true,\n    'default': shortid.generate\n\t},\n  originalUrl: String,\n\tshortUrl: String\n});\n\nNewurlSchema.statics = {\n  findURL: function(param, cb) {\n    this.find({})\n      .where('originalUrl').equals(param)\n      .limit(10)\n      .exec(cb);\n  }\n};\n\nNewurlSchema.post('save', function(doc) {\n  doc.short_url = 'https://littleurl.herokuapp.com/'+doc._id;\n});\n\nNewurlSchema.set('versionKey', false);\nexport default mongoose.model('Newurl', NewurlSchema);\n"]}